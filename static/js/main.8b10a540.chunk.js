(this.webpackJsonparknights_app=this.webpackJsonparknights_app||[]).push([[0],{46:function(e,t,n){e.exports=n(95)},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},91:function(e,t){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(42),i=n.n(c),r=(n(51),n(44)),s=n(3),o=[{name:"\u514b\u6d1b\u4e1d",cost:1,atk:3,hp:1,mine:1,block:0,illust:"http://ak.mooncell.wiki/images/b/ba/%E7%AB%8B%E7%BB%98_%E5%85%8B%E6%B4%9B%E4%B8%9D_1.png"},{name:"\u963f\u7c73\u5a05",cost:3,atk:4,hp:2,mine:2,block:0,illust:"http://ak.mooncell.wiki/images/d/dd/%E7%AB%8B%E7%BB%98_%E9%98%BF%E7%B1%B3%E5%A8%85_1.png",desc:"\u91c7\u6398: \u83b7\u5f971\u5206",onMine:function(e,t){e.score+=1}},{name:"\u6770\u897f\u5361",cost:3,atk:5,hp:2,mine:1,block:0,illust:"http://ak.mooncell.wiki/images/9/96/%E7%AB%8B%E7%BB%98_%E6%9D%B0%E8%A5%BF%E5%8D%A1_1.png",desc:"\u91c7\u6398: \u9020\u62103\u70b9\u4f24\u5bb3",onMine:function(e,t){w(e,t,3)}},{name:"\u73ab\u5170\u838e",cost:2,atk:3,hp:3,mine:1,block:1,illust:"http://ak.mooncell.wiki/images/0/09/%E7%AB%8B%E7%BB%98_%E7%8E%AB%E5%85%B0%E8%8E%8E_1.png"},{name:"\u7c73\u683c\u9c81",cost:2,atk:0,hp:6,mine:1,block:2,illust:"http://ak.mooncell.wiki/images/4/44/%E7%AB%8B%E7%BB%98_%E7%B1%B3%E6%A0%BC%E9%B2%81_1.png"},{name:"\u53f2\u90fd\u534e\u5fb7",cost:2,atk:2,hp:2,mine:2,block:0,illust:"http://ak.mooncell.wiki/images/4/44/%E7%AB%8B%E7%BB%98_%E5%8F%B2%E9%83%BD%E5%8D%8E%E5%BE%B7_1.png"},{name:"12F",cost:6,atk:6,hp:4,mine:5,block:0,illust:"http://ak.mooncell.wiki/images/6/61/%E7%AB%8B%E7%BB%98_12F_1.png"},{name:"\u9ed1\u89d2",cost:8,atk:8,hp:8,mine:4,block:2,illust:"http://ak.mooncell.wiki/images/d/dc/%E7%AB%8B%E7%BB%98_%E9%BB%91%E8%A7%92_1.png"},{name:"\u5de1\u6797\u8005",cost:5,atk:8,hp:4,mine:3,block:0,illust:"http://ak.mooncell.wiki/images/c/c8/%E7%AB%8B%E7%BB%98_%E5%B7%A1%E6%9E%97%E8%80%85_1.png"},{name:"\u82ac",cost:2,atk:1,hp:2,mine:1,block:1,desc:"\u90e8\u7f72: \u64782\u5f20\u724c",illust:"http://ak.mooncell.wiki/images/a/af/%E7%AB%8B%E7%BB%98_%E8%8A%AC_1.png",onPlay:function(e,t){O(e,t),O(e,t)}},{name:"\u708e\u7194",cost:3,atk:4,hp:2,mine:2,block:0,illust:"http://ak.mooncell.wiki/images/8/80/%E7%AB%8B%E7%BB%98_%E7%82%8E%E7%86%94_1.png",onFight:function(e,t){v(e,t,1)}},{name:"\u6843\u91d1\u5a18",cost:2,atk:2,hp:2,mine:1,block:0,illust:"http://ak.mooncell.wiki/images/4/42/%E7%AB%8B%E7%BB%98_%E6%A1%83%E9%87%91%E5%A8%98_1.png",desc:"\u884c\u52a8\uff1a\u83b7\u5f973\u70b9\u8d39\u7528",action:function(e,t){e.costs+=3}},{name:"\u9999\u8349",cost:3,atk:4,hp:3,mine:1,block:1,desc:"\u6218\u6597\uff1a\u83b7\u5f972\u70b9\u8d39\u7528",illust:"http://ak.mooncell.wiki/images/a/a0/%E7%AB%8B%E7%BB%98_%E9%A6%99%E8%8D%89_1.png",onFight:function(e,t){e.costs+=2}},{name:"\u8baf\u4f7f",cost:3,atk:2,hp:4,mine:1,block:1,desc:"\u91c7\u6398\uff1a\u83b7\u5f972\u70b9\u8d39\u7528",illust:"http://ak.mooncell.wiki/images/1/16/%E7%AB%8B%E7%BB%98_%E8%AE%AF%E4%BD%BF_1.png",onMine:function(e,t){e.costs+=2}},{name:"\u5fb7\u514b\u8428\u65af",cost:3,atk:5,hp:2,mine:1,block:1,desc:"\u91c7\u6398\uff1a\u6a2a\u7f6e1\u4e2a\u654c\u4eba\uff0c\u7136\u540e\u6bcf\u67091\u4e2a\u6a2a\u7f6e\u7684\u654c\u4eba\uff0c\u5c31\u83b7\u5f971\u70b9\u8d39\u7528",illust:"http://ak.mooncell.wiki/images/f/fc/%E7%AB%8B%E7%BB%98_%E5%BE%B7%E5%85%8B%E8%90%A8%E6%96%AF_1.png",onMine:function(e,t){C(e,t);var n=e.efield.filter((function(e){return e.exhausted})).length;e.costs+=n}},{name:"\u98ce\u7b1b",cost:3,atk:4,hp:3,mine:2,block:1,desc:"\u884c\u52a8\uff1a\u6253\u51fa\u724c\u5e93\u9876\u76841\u5f20\u724c",illust:"http://ak.mooncell.wiki/images/5/5e/%E7%AB%8B%E7%BB%98_%E9%A3%8E%E7%AC%9B_1.png",action:function(e,t){var n=g(e,t,"deck","field");n.dmg=0,n.exhausted=e.exhausted_enter}},{name:"\u7ea2\u8c46",cost:4,atk:3,hp:1,mine:2,block:1,desc:"\u4ea1\u8bed\uff1a\u83b7\u5f973\u70b9\u8d39\u7528",illust:"http://ak.mooncell.wiki/images/7/70/%E7%AB%8B%E7%BB%98_%E7%BA%A2%E8%B1%86_1.png",onOut:function(e,t){e.costs+=3}},{name:"\u63a8\u8fdb\u4e4b\u738b",cost:5,atk:3,hp:3,mine:1,block:1,desc:"\u90e8\u7f72\uff1a\u6240\u6709\u624b\u724c\u7684\u8d39\u7528-1",illust:"http://ak.mooncell.wiki/images/6/6f/%E7%AB%8B%E7%BB%98_%E6%8E%A8%E8%BF%9B%E4%B9%8B%E7%8E%8B_1.png",onPlay:function(e,t){var n,a=Object(s.a)(e.hand);try{for(a.s();!(n=a.n()).done;){n.value.cost-=1}}catch(l){a.e(l)}finally{a.f()}}},{name:"\u80fd\u5929\u4f7f",cost:3,atk:5,hp:2,mine:1,block:0,desc:"\u653b\u51fb\u88ab\u6a2a\u7f6e\u7684\u654c\u4eba\u65f6\uff0c\u83b7\u5f97+2/+2\u548c<+2>",illust:"http://ak.mooncell.wiki/images/b/bd/%E7%AB%8B%E7%BB%98_%E8%83%BD%E5%A4%A9%E4%BD%BF_1.png",onFight:function(e,t,n,a){a.exhausted&&(n.atk+=2,n.hp+=2,n.mine+=2)}},{name:"\u84dd\u6bd2",cost:4,atk:5,hp:3,mine:2,block:0,desc:"\u6218\u6597\uff1a\u5bf9\u4e00\u4e2a\u654c\u4eba\u9020\u62103\u70b9\u4f24\u5bb3",illust:"http://ak.mooncell.wiki/images/6/66/%E7%AB%8B%E7%BB%98_%E8%93%9D%E6%AF%92_1.png",onFight:function(e,t){w(e,t,3)}},{name:"\u675c\u5bbe",cost:4,atk:2,hp:2,mine:1,block:2,desc:"\u90e8\u7f72\uff1a\u573a\u4e0a\u6bcf\u67091\u4e2a\u5e72\u5458\uff0c\u5c31\u83b7\u5f97+1/+1\u548c<+1>",illust:"http://ak.mooncell.wiki/images/2/25/%E7%AB%8B%E7%BB%98_%E6%9D%9C%E5%AE%BE_1.png",onPlay:function(e,t,n){var a,l=Object(s.a)(e.field);try{for(l.s();!(a=l.n()).done;){a.value;n.atk+=1,n.hp+=1,n.mine+=1}}catch(c){l.e(c)}finally{l.f()}}},{name:"\u9648",cost:6,atk:4,hp:4,mine:2,block:1,desc:"\u90e8\u7f72\uff1a\u5bf9\u4e24\u540d\u654c\u4eba\u9020\u62103\u70b9\u4f24\u5bb3",illust:"http://ak.mooncell.wiki/images/b/bc/%E7%AB%8B%E7%BB%98_%E9%99%88_1.png",onPlay:function(e,t){w(e,t,3),w(e,t,3)}},{name:"\u8299\u5170\u5361",cost:4,atk:4,hp:5,mine:2,block:1,desc:"_",illust:"http://ak.mooncell.wiki/images/6/6c/%E7%AB%8B%E7%BB%98_%E8%8A%99%E5%85%B0%E5%8D%A1_1.png"},{name:"\u661f\u6781",cost:6,atk:4,hp:4,mine:3,block:1,desc:"\u90e8\u7f72\uff1a\u83b7\u5f972\u4e2aD32\u94a2",illust:"http://ak.mooncell.wiki/images/b/bb/%E7%AB%8B%E7%BB%98_%E6%98%9F%E6%9E%81_1.png",onPlay:function(e,t){e.materials[3]+=2}},{name:"\u86c7\u5c60\u7bb1",cost:3,atk:2,hp:5,mine:1,block:2,desc:"\u884c\u52a8\uff1a\u83b7\u5f97+3\u751f\u547d\u503c",illust:"http://ak.mooncell.wiki/images/c/c7/%E7%AB%8B%E7%BB%98_%E8%9B%87%E5%B1%A0%E7%AE%B1_1.png",action:function(e,t,n){n.hp+=3}},{name:"\u53ef\u9882",cost:6,atk:3,hp:8,mine:1,block:2,desc:"\u91c7\u6398/\u6218\u6597\uff1a\u6a2a\u7f6e1\u4e2a\u654c\u4eba",illust:"http://ak.mooncell.wiki/images/6/62/%E7%AB%8B%E7%BB%98_%E5%8F%AF%E9%A2%82_1.png",onMine:function(e,t){C(e,t)},onFight:function(e,t){C(e,t)}},{name:"\u96f7\u86c7",cost:6,atk:3,hp:8,mine:1,block:2,desc:"\u91c7\u6398/\u6218\u6597\uff1a\u91cd\u7f6e1\u4e2a\u5e72\u5458",illust:"http://ak.mooncell.wiki/images/3/39/%E7%AB%8B%E7%BB%98_%E9%9B%B7%E8%9B%87_1.png",onMine:function(e,t){S(e,t)},onFight:function(e,t){S(e,t)}},{name:"\u8299\u84c9",cost:2,atk:0,hp:2,mine:1,block:0,desc:"\u884c\u52a8\uff1a\u4f7f\u4e00\u540d\u5e72\u5458\u83b7\u5f97+4\u751f\u547d\u503c",illust:"http://ak.mooncell.wiki/images/b/b9/%E7%AB%8B%E7%BB%98_%E8%8A%99%E8%93%89_1.png",action:function(e,t){G(e,t,4)}},{name:"\u6e05\u6d41",cost:4,atk:0,hp:3,mine:3,block:0,desc:"\u884c\u52a8\uff1a\u4f7f\u4e00\u540d\u5e72\u5458\u83b7\u5f97+6\u751f\u547d\u503c",illust:"http://ak.mooncell.wiki/images/f/f3/%E7%AB%8B%E7%BB%98_%E6%B8%85%E6%B5%81_1.png",action:function(e,t){G(e,t,6)}},{name:"\u7a7a",cost:3,atk:0,hp:3,mine:2,block:0,desc:"\u884c\u52a8\uff1a\u6a2a\u7f6e2\u4e2a\u654c\u4eba",illust:"http://ak.mooncell.wiki/images/f/f0/%E7%AB%8B%E7%BB%98_%E7%A9%BA_1.png",action:function(e,t){C(e,t),C(e,t)}},{name:"\u963f\u6d88",cost:4,atk:3,hp:4,mine:2,block:1,desc:"\u884c\u52a8\uff1a\u6d88\u80173\u70b9\u8d39\u7528\uff0c\u83b7\u5f974\u5206",illust:"http://ak.mooncell.wiki/images/c/c6/%E7%AB%8B%E7%BB%98_%E9%98%BF%E6%B6%88_1.png",action:function(e,t){b(e,t,3)&&(e.score+=4)}}],d=(o.map((function(e){return"1 ".concat(e.name)})).join("\n"),[{name:"\u5c0f\u5175",atk:2,hp:3,illust:"http://ak.mooncell.wiki/images/3/34/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E5%A3%AB%E5%85%B5.png"},{name:"\u730e\u72ac",atk:2,hp:2,illust:"http://ak.mooncell.wiki/images/3/3f/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E7%8C%8E%E7%8B%97.png"},{name:"\u6e90\u77f3\u866b",atk:1,hp:1,illust:"http://ak.mooncell.wiki/images/3/3e/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E6%BA%90%E7%9F%B3%E8%99%AB.png"},{name:"\u91cd\u88c5",atk:4,hp:6,illust:"http://ak.mooncell.wiki/images/f/f0/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E9%87%8D%E8%A3%85%E9%98%B2%E5%BE%A1%E8%80%85.png"},{name:"\u7834\u9635\u8005",atk:3,hp:2,illust:"http://ak.mooncell.wiki/images/f/f2/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E7%A0%B4%E9%98%B5%E8%80%85.png"},{name:"\u672f\u5e08",atk:2,hp:4,illust:"http://ak.mooncell.wiki/images/3/34/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E5%A3%AB%E5%85%B5.png"},{name:"\u7a7a\u964d\u5175",atk:3,hp:2,illust:"http://ak.mooncell.wiki/images/3/34/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E5%A3%AB%E5%85%B5.png"},{name:"\u8428\u5361\u5179\u672f\u5e08",atk:4,hp:4,illust:"http://ak.mooncell.wiki/images/3/34/%E5%A4%B4%E5%83%8F_%E6%95%8C%E4%BA%BA_%E5%A3%AB%E5%85%B5.png",desc:"\u52a8\u4e71: \u989d\u5916\u589e\u52a02\u70b9\u52a8\u4e71\u503c"}]),u={alcohol:l.a.createElement("img",{src:"http://ak.mooncell.wiki/images/a/a8/%E9%81%93%E5%85%B7_%E5%B8%A6%E6%A1%86_%E6%89%AD%E8%BD%AC%E9%86%87.png",height:"25em"}),rma:l.a.createElement("img",{src:"http://ak.mooncell.wiki/images/7/7c/%E9%81%93%E5%85%B7_%E5%B8%A6%E6%A1%86_RMA70-12.png",height:"25em"}),rock:l.a.createElement("img",{src:"http://ak.mooncell.wiki/images/e/e7/%E9%81%93%E5%85%B7_%E5%B8%A6%E6%A1%86_%E7%A0%94%E7%A3%A8%E7%9F%B3.png",height:"25em"}),d32:l.a.createElement("img",{src:"http://ak.mooncell.wiki/images/7/76/%E9%81%93%E5%85%B7_%E5%B8%A6%E6%A1%86_D32%E9%92%A2.png",height:"25em"}),mine:l.a.createElement("img",{src:"https://dss1.bdstatic.com/6OF1bjeh1BF3odCf/it/u=1672017263,313384077&fm=74&app=80&f=JPEG&size=f121,121?sec=1880279984&t=807e81fe43f1078031ace9ef194ff68a",height:"20em"}),block:l.a.createElement("img",{src:"http://img5.imgtn.bdimg.com/it/u=1153648212,1889048357&fm=26&gp=0.jpg",height:"20em"})},m="https://ak.hypergryph.com/assets/index/images/ak/common/story/item_mortal_city.png",h=[u.alcohol,u.rma,u.rock,u.d32],f=[{requirements:[3,0,0,0],score:2,reward:1,desc:l.a.createElement("span",null,h[2]," \u2192 ? + ?"),effect:function(e,t){B(e,t,[0,0,1,0])&&v(e,t,2)}},{requirements:[0,3,0,0],score:2,reward:2,desc:l.a.createElement("span",null,h[0]," \u2192 ? + ?"),effect:function(e,t){B(e,t,[1,0,0,0])&&v(e,t,2)}},{requirements:[0,0,3,0],score:2,reward:0,desc:l.a.createElement("span",null,h[1]," \u2192 ? + ?"),effect:function(e,t){B(e,t,[0,1,0,0])&&v(e,t,2)}},{requirements:[3,0,0,0],score:2,reward:2,desc:l.a.createElement("span",null,h[1]," \u2192 ",h[3]),effect:function(e,t){B(e,t,[0,1,0,0])&&(e.materials[3]+=1)}},{requirements:[0,3,0,0],score:2,reward:0,desc:l.a.createElement("span",null,h[2]," \u2192 ",h[3]),effect:function(e,t){B(e,t,[0,0,1,0])&&(e.materials[3]+=1)}},{requirements:[0,0,3,0],score:2,reward:1,desc:l.a.createElement("span",null,h[0]," \u2192 ",h[3]),effect:function(e,t){B(e,t,[1,0,0,0])&&(e.materials[3]+=1)}},{requirements:[3,0,0,0],score:2,reward:1,desc:l.a.createElement("span",null,h[2]," \u2192 2\u5206"),effect:function(e,t){B(e,t,[0,0,1,0])&&(e.score+=2)}},{requirements:[0,3,0,0],score:2,reward:2,desc:l.a.createElement("span",null,h[0]," \u2192 2\u5206"),effect:function(e,t){B(e,t,[1,0,0,0])&&(e.score+=2)}},{requirements:[0,0,3,0],score:2,reward:0,desc:l.a.createElement("span",null,h[1]," \u2192 2\u5206"),effect:function(e,t){B(e,t,[0,1,0,0])&&(e.score+=2)}},{requirements:[3,0,0,0],score:2,reward:2,desc:l.a.createElement("span",null,"\u6536\u5165: ",h[1]),onTurnBegin:function(e,t){e.materials[1]+=1}},{requirements:[0,3,0,0],score:2,reward:0,desc:l.a.createElement("span",null,"\u6536\u5165: ",h[2]),onTurnBegin:function(e,t){e.materials[2]+=1}},{requirements:[0,0,3,0],score:2,reward:1,desc:l.a.createElement("span",null,"\u6536\u5165: ",h[0]),onTurnBegin:function(e,t){e.materials[0]+=1}}],_=n(5),p=n(6);function E(e,t){var n={};for(var a in t)n[a]=e(t[a],a);return n}var k=function(){function e(t){if(Object(_.a)(this,e),this.seed=t,this.val=0,"string"==typeof t)for(var n=0;n<t.length;n++)this.val+=t.charCodeAt(n);else this.val=t}return Object(p.a)(e,[{key:"random",value:function(){var e=1e4*Math.sin(this.val++),t=e-Math.floor(e);return this.val+=2,t}},{key:"randRange",value:function(e){return Math.floor(e*this.random())}},{key:"choice",value:function(e){var t=e.length;return e[this.randRange(t)]}}]),e}();function g(e,t,n,a,l){var c=l||0,i=e[n].splice(c,1)[0];return e[a].push(i),i}function b(e,t,n){return e.costs>=n?(e.costs-=n,!0):(F(e,t,"\u8d39\u7528\u4e0d\u8db3"),!1)}function v(e,t,n){for(var a=n||1,l=[],c=0;c<a;c++){var i=t.random.Die(3)-1;e.materials[i]+=1,l.push(i)}e.gained=l}function B(e,t,n){for(var a=0,l=0;l<4;l++)e.materials[l]<n[l]&&(a+=n[l]-e.materials[l]);if(e.materials[3]<a)return F(e,t,"\u6750\u6599\u4e0d\u8db3"),!1;for(var c=0;c<4;c++)e.materials[c]-=n[c],e.materials[c]<0&&(e.materials[3]+=e.materials[c],e.materials[c]=0);return e.gained=[],!0}function y(e,t,n){return!n.exhausted&&(n.exhausted=!0,!0)}function A(e,t,n,a,l){var c=e[n][a];(c.dmg=c.dmg||0,c.dmg+=l,F(e,t,"".concat(c.name," \u53d7\u5230").concat(l,"\u70b9\u4f24\u5bb3")),c.dmg>=c.hp)&&(g(e,0,n,"field"==n?"discard":"ediscard",a),F(e,t,"".concat(c.name," \u88ab\u6467\u6bc1")),c.onOut&&c.onOut(e,t,c))}function w(e,t,n){if(e.efield.length>0){var a=t.random.Die(e.efield.length)-1;A(e,t,"efield",a,n)}}function O(e,t){e.deck.length>0&&e.hand.unshift(e.deck.pop())}function j(e,t){e.odeck.length>0&&g(e,0,"odeck","orders")}function x(e,t){if(e.edeck.length>0){var n=g(e,0,"edeck","efield");n.exhausted=!0,n.dmg=0,F(e,t,"".concat(n.name," \u5165\u573a")),n.onPlay&&n.onPlay(e,t,n)}}function C(e,t){var n=e.efield.filter((function(e){return!e.exhausted}));n.length>0&&(t.random.Shuffle(n)[0].exhausted=!0)}function S(e,t){var n=e.field.filter((function(e){return e.exhausted}));n.length>0&&(t.random.Shuffle(n)[0].exhausted=!1)}function G(e,t,n){var a=e.field.map((function(e){return e})).sort((function(e){return-e.dmg}))[0];a.dmg-=n,a.dmg<0&&(a.hp-=a.dmg,a.dmg=0)}function F(e,t,n){e.messages.unshift(n)}var N={setup:function(e){var t={hand:[],field:[],deck:[]},n=function(){return d.map((function(e){return Object.assign({},e)}))};return t.edeck=e.random.Shuffle(n().concat(n())),t.odeck=e.random.Shuffle(f.map((function(e){return Object.assign({},e)}))),t.efield=[],t.discard=[],t.ediscard=[],t.orders=[],t.finished=[],t.costs=2,t.materials=[0,0,0,0],t.score=0,t.danger=0,t.goal=10,t.max_danger=8,t.exhausted_enter=!1,t.messages=["\u6b22\u8fce\u6765\u5230\u660e\u65e5\u65b9\u821f: \u91c7\u6398\u884c\u52a8"],t.playing=!1,t.gained=[],t},moves:{setDeck:function(e,t,n){var a,l=function(e){var t,n={},a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;){var l=t.value;n[l.name]=l}}catch(c){a.e(c)}finally{a.f()}return n}(o),c=[],i=n.split("\n"),r=Object(s.a)(i);try{for(r.s();!(a=r.n()).done;){var d=a.value.split(" ");if(d.length>=2){var u=parseInt(d[0])||0,m=l[d[1]];if(m)for(var h=0;h<u;h++)c.push(Object.assign({},m))}}}catch(f){r.e(f)}finally{r.f()}e.deck=t.random.Shuffle(c)},addTags:function(e,t,n){var a,l=Object(s.a)(n);try{for(l.s();!(a=l.n()).done;){a.value.effect(e,t)}}catch(c){l.e(c)}finally{l.f()}},onScenarioBegin:function(e,t){for(var n=0;n<4;n++)O(e);for(var a=0;a<2;a++)x(e,t);for(var l=0;l<3;l++)j(e);console.log("Setup finished"),e.playing=!0,t.events.endTurn()},draw:O,play:function(e,t,n){var a=e.hand[n];b(e,t,a.cost)&&(g(e,0,"hand","field",n),a.dmg=0,a.exhausted=e.exhausted_enter,F(e,t,"\u90e8\u7f72 ".concat(a.name)),a.onPlay&&a.onPlay(e,t,a))},mine:function(e,t,n){var a=e.field[n];y(0,0,a)&&(v(e,t,a.mine),F(e,t,"\u4f7f\u7528 ".concat(a.name," \u91c7\u6398")),a.onMine&&a.onMine(e,t,a))},act:function(e,t,n){var a=e.field[n];y(0,0,a)&&(a.action(e,t,a),F(e,t,"\u4f7f\u7528 ".concat(a.name," \u884c\u52a8")))},setValue:function(e,t,n,a){e[n]=a},drawOrder:j,finishOrder:function(e,t,n){var a=e.orders[n];B(e,t,a.requirements)&&(e.materials[a.reward]+=1,e.score+=a.score,e.finished.push(e.orders.splice(n,1)[0]),F(e,t,"\u5b8c\u6210\u8ba2\u5355"))},useOrder:function(e,t,n){var a=e.finished[n];y(0,0,a)&&a.effect(e,t)},drawEnemy:x,fight:function(e,t,n,a){if(n<0||n>=e.field.length||a<0||a>=e.efield.length)console.log("invalid move");else{var l=e.field[n],c=e.efield[a];y(0,0,l)&&(F(e,t,"\u4f7f\u7528 ".concat(l.name," \u6218\u6597")),A(e,t,"efield",a,l.atk),l.onFight&&l.onFight(e,t,l,c))}},enemyMove:function(e,t,n){var a=e.efield[n];if(y(0,0,a)){var l=function(e,t,n){var a,l=0,c=Object(s.a)(e.field);try{for(c.s();!(a=c.n()).done;){var i=a.value;if((l+=i.block||0)>n)return i}}catch(r){c.e(r)}finally{c.f()}return!1}(e,0,n),c=e.field.indexOf(l);l?(A(e,t,"field",c,a.atk),F(e,t,"".concat(a.name," \u5bf9 ").concat(l.name," \u53d1\u8d77\u4e86\u8fdb\u653b"))):(e.danger+=1,F(e,t,"".concat(a.name," \u53d1\u8d77\u4e86\u52a8\u4e71")))}},logMsg:F,changeMsg:function(e,t,n){e.messages[0]=n}},turn:{onBegin:function(e,t){e.playing&&(console.log("On turn begin"),F(e,0,"\u56de\u5408\u5f00\u59cb"),function(e,t){var n,a=Object(s.a)([].concat(e.field,e.efield,e.finished));try{for(a.s();!(n=a.n()).done;){n.value.exhausted=!1}}catch(l){a.e(l)}finally{a.f()}}(e),O(e),j(e),e.costs+=3)}},endIf:function(e,t){if(e.playing){if(0==e.deck.length)return{win:!1,reason:"\u724c\u5e93\u88ab\u62bd\u5149"};if(0==e.edeck.length)return{win:!1,reason:"\u654c\u4eba\u724c\u5e93\u88ab\u62bd\u5149"};if(e.danger>=e.max_danger)return{win:!1,reason:"\u52a8\u4e71\u6307\u6570\u8fc7\u9ad8"};if(e.score>=e.goal)return{win:!0}}}},D=n(1),M=n(8),q=n(7),T=(n(52),function(e){var t={illust:{},e_illust:{},o_illust:{},hp:{}};if(e.cardState.exhausted){t.illust.border="1px solid red",t.e_illust.border="1px solid red",t.o_illust.border="1px solid red"}if(e.cardState.selected)if(e.cardState.exhausted){t.illust.border="3px solid purple",t.e_illust.border="3px solid purple",t.o_illust.border="3px solid purple"}else{t.illust.border="3px solid blue",t.e_illust.border="3px solid blue",t.o_illust.border="3px solid blue"}return e.cardState.damaged&&(t.hp.color="red"),l.a.createElement("div",{className:"card",onClick:e.handleClick},Object.keys(e.data).map((function(n){return l.a.createElement(P,{variant:n,value:e.data[n],additionalStyle:t[n]})})))}),P=function(e){var t=e.variant.includes("illust"),n=l.a.createElement("img",{className:e.variant,src:e.value});return l.a.createElement("div",{className:"data "+e.variant,style:e.additionalStyle},t?n:e.value)},R=function(e){return l.a.createElement("div",{className:"card-row"},e.cards.map((function(t,n){return l.a.createElement(T,{data:t,cardState:e.states[n],handleClick:e.handleClick?e.handleClick(n):null})})))},I=function(e){return l.a.createElement("div",{className:"card-detailed"},Object.keys(e.card).map((function(t){return l.a.createElement(P,{variant:t,value:e.card[t]})})))},z=function(e){return l.a.createElement("div",{className:"card-board",align:"center"},l.a.createElement(I,{card:e.card}),l.a.createElement("button",{className:"card-detailed-button",onClick:e.handleClick},"\u5b8c\u6210\u67e5\u770b"))},J=(n(53),function(e){return l.a.createElement("div",{className:"controller"},Object.keys(e.actions).map((function(t){return l.a.createElement("button",{onClick:e.actions[t],className:"controller-button"},t)})),l.a.createElement("button",{className:"controller-button",onClick:e.checkCard,style:{float:"right",display:e.checkCard?"":"none"}},"\u67e5\u770b"))}),L=function(e){return l.a.createElement("div",{className:"enter-game"},l.a.createElement("button",{className:"enter-game",onClick:e.switchScene},e.action))},X=(n(54),function(e){return l.a.createElement("div",{className:e.variant},e.content)}),U=(n(55),function(e){for(var t=[],n=0;n<e.tags.length;n+=3){var a,c=[],i=e.tags.slice(n,n+3),r=Object(s.a)(i);try{for(r.s();!(a=r.n()).done;){var o=a.value;c.push(l.a.createElement("td",{className:"tag",onClick:e.handleClick(e.tags.indexOf(o))},l.a.createElement("img",{className:"tag",src:o.src,style:{borderColor:o.selected?"red":"black"}})))}}catch(d){r.e(d)}finally{r.f()}t.push(l.a.createElement("tr",null,c))}return l.a.createElement("div",{className:"tag-selection"},l.a.createElement("table",null,l.a.createElement("tbody",null,t)))}),V=function(e){return l.a.createElement("div",{className:"tag-list"},l.a.createElement("ul",{style:{marginLeft:"-6%",marginTop:"1%"}},e.selected_tags.map((function(e){return l.a.createElement("li",{className:"tag-desc"},e.desc)}))))},$=function(e){return l.a.createElement("div",{className:"risk-level"},"\u5371\u673a\u7b49\u7ea7:",l.a.createElement("br",null),l.a.createElement("span",{className:"risk-level-value"},e.risk_level))},H=(n(56),function(e){return l.a.createElement("div",{className:"deck-construction"},l.a.createElement("form",null,"\u8bf7\u8f93\u5165\u5361\u7ec4\u540d:\xa0",l.a.createElement("input",{type:"text",value:e.value,onChange:e.handleChange,className:"input-deck-name"})),l.a.createElement("button",{onClick:e.changeName,style:{fontSize:"105%",marginTop:"5%"}},"\u6362\u4e2a\u968f\u673a\u540d\u5b57"),l.a.createElement("br",null),l.a.createElement("p",null,"\u7ed9\u5361\u7ec4\u53d6\u4e2a\u597d\u542c\u7684\u540d\u5b57\uff0c\u7136\u540e\u7cfb\u7edf\u4f1a\u6839\u636e\u540d\u5b57\uff0c\u751f\u6210\u4e00\u5957\u5361\u7ec4\u3002"))}),K=(n(57),function(e){return l.a.createElement("div",{style:{textAlign:"center",marginTop:"50%"}},l.a.createElement("h2",null,"\u660e\u65e5\u65b9\u821f: \u91c7\u6398\u884c\u52a8"),l.a.createElement("button",{className:"title-screen-button",onClick:e.enterGame},"\u8fdb\u5165\u6e38\u620f"),l.a.createElement("br",null),l.a.createElement("button",{className:"title-screen-button",onClick:e.checkRule},"\u67e5\u770b\u89c4\u5219"),l.a.createElement("br",null))}),Q="\u6b27\u7687 \u975e\u914b \u53ea\u809d\u4e0d\u6c2a \u53ea\u6c2a\u4e0d\u809d \u809d\u5e1d \u788e\u77f3\u731b\u809d \u4e00\u53d1\u5165\u9b42 \u6413\u7389\u8005 \u7ebf\u7d227\u4f20\u9012\u8005 \u501f\u70b9\u9f99\u95e8\u5e01 \u8c03\u7bb1\u5e08 \u4e0d\u8981\u6050\u614c \u5927\u54e5\u62bd\u8299\u84c9 \u5730\u706b \u9ad8\u7ea7\u8d44\u6df1\u5e72\u5458 \u975e\u6d32\u6218\u795e \u9ec4\u7968\u4e4b\u6e90 \u6ce8\u610f\u529b\u6da3\u6563 \u7cbe\u4e8c\u6ee1\u7ea7 \u5f11\u541b\u8005\u8feb\u5bb3\u8005 \u7a7a\u964d\u5175\u62ef\u6551\u8005 \u5de5\u53e3\u53d1\u751f \u5de5\u5177\u4eba \u6454\u70ae \u4e2d\u95e8\u5bf9\u72d9 \u516c\u62db\u5de8\u5934 \u5bcc\u5a46 \u8001\u5a46 \u731b\u7537 \u6253\u5f97\u4e0d\u9519 \u795e\u62bd\u72d7 \u91d1\u8272\u666e\u901a".split(" "),W=["\u675c\u5bbe 1 2\n\u63a8\u8fdb\u4e4b\u738b 1 2\n\u9999\u8349 1 2\n\u8baf\u4f7f 1 2\n\u82ac 1 2\n\u73ab\u5170\u838e 2 3\n\u7c73\u683c\u9c81 3 4\n\u8299\u84c9 3 4\n\u86c7\u5c60\u7bb1 0 2\n\u6e05\u6d41 0 2","\u675c\u5bbe 1 2\n\u63a8\u8fdb\u4e4b\u738b 1 2\n\u9999\u8349 2 3\n\u8baf\u4f7f 1 2\n\u82ac 1 2\n\u7c73\u683c\u9c81 0 2\n\u73ab\u5170\u838e 0 2\n\u8299\u84c9 0 2\n\u514b\u6d1b\u4e1d 3 4\n\u6770\u897f\u5361 3 4\n\u708e\u7194 2 3\n\u84dd\u6bd2 1 2\n\u9648 0 2","\u675c\u5bbe 1 2\n\u63a8\u8fdb\u4e4b\u738b 1 2\n\u9999\u8349 1 2\n\u8baf\u4f7f 1 2\n\u82ac 1 2\n\u7c73\u683c\u9c81 2 3\n\u73ab\u5170\u838e 1 2\n\u8299\u84c9 1 2\n\u514b\u6d1b\u4e1d 0 2\n\u53f2\u90fd\u534e\u5fb7 3 4\n\u708e\u7194 2 3\n\u963f\u7c73\u5a05 2 3","\u5fb7\u514b\u8428\u65af 3 4\n\u7a7a 2 3\n\u53ef\u9882 1 3\n\u80fd\u5929\u4f7f 0 2\n\u5de1\u6797\u8005 0 2\n\u96f7\u86c7 0 2","\u98ce\u7b1b 2 3\n\u7ea2\u8c46 3 4\n\u6843\u91d1\u5a18 2 4\n\u86c7\u5c60\u7bb1 1 3\n\u6e05\u6d41 1 3\n\u5de1\u6797\u8005 1 3\n12F 1 3\n\u9ed1\u89d2 1 3\n\u8299\u5170\u5361 0 3\n\u53ef\u9882 0 2\n\u9648 0 2\n\u84dd\u6bd2 0 2\n\u96f7\u86c7 0 2\n\u661f\u6781 0 2"];function Y(e){return e.choice(o).name}function Z(){var e=new k(Math.random());return'"'+e.choice(Q)+'"'+Y(e)}function ee(e,t,n,a){var l=n;return a&&(l+=e.randRange(a-n+1)),[l,t]}function te(e){var t,n=[],a=new k(e),l=a.choice(W).split("\n"),c=a.choice(W).split("\n"),i=Object(s.a)(l.concat(c));try{for(i.s();!(t=i.n()).done;){var r=t.value.split(" ");n.push(ee(a,r[0],parseInt(r[1]),parseInt(r[2])))}}catch(u){i.e(u)}finally{i.f()}if((n=function(e){var t,n=[],a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;)for(var l=t.value,c=0;c<l[0];c++)n.push(l[1])}catch(u){a.e(u)}finally{a.f()}return n}(n)).length<30)for(var o=0;o<30-n.length;o++)n.push(Y(a));if(n.length>30)for(var d=0;d<n.length-30;d++)n.splice(a.randRange(n.length),1);return function(e){var t,n={},a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;){var l=t.value;n[l]?n[l]+=1:n[l]=1}}catch(u){a.e(u)}finally{a.f()}return Object.keys(n).sort().map((function(e){return"".concat(n[e]," ").concat(e)})).join("\n")}(n)}var ne=function(e){var t,n=[],a=Object(s.a)(e);try{for(a.s();!(t=a.n()).done;){var l=t.value;if(l.selected=!1,1==l.level)for(var c=0;c<3;c++)n.push(Object.assign({},l));else n.push(Object.assign({},l))}}catch(i){a.e(i)}finally{a.f()}return n}([{src:"http://ak.mooncell.wiki/images/d/d3/Enemy_def_1.png",desc:"\u80dc\u5229\u6240\u9700\u7684\u5206\u6570+2",level:1,effect:function(e,t){e.goal+=2}},{src:"http://ak.mooncell.wiki/images/a/a6/Global_lifepoint_1.png",desc:"\u6211\u65b9\u53ef\u627f\u53d7\u7684\u52a8\u4e71\u6307\u6570-2",level:1,effect:function(e,t){e.max_danger-=2}},{src:"http://ak.mooncell.wiki/images/5/5a/Enemy_atk_1.png",desc:"\u6240\u6709\u654c\u4eba\u83b7\u5f97+1\u653b\u51fb\u529b",level:1,effect:function(e,t){var n,a=Object(s.a)(e.edeck);try{for(a.s();!(n=a.n()).done;){n.value.atk+=1}}catch(l){a.e(l)}finally{a.f()}}},{src:"http://ak.mooncell.wiki/images/4/4e/Enemy_hp_1.png",desc:"\u6240\u6709\u654c\u4eba\u83b7\u5f97+1\u751f\u547d\u503c",level:1,effect:function(e,t){var n,a=Object(s.a)(e.edeck);try{for(a.s();!(n=a.n()).done;){n.value.hp+=1}}catch(l){a.e(l)}finally{a.f()}}},{src:"http://ak.mooncell.wiki/images/f/f7/Enemy_movespeed_1.png",desc:"\u5e72\u5458\u4ee5\u6a2a\u7f6e\u72b6\u6001\u5165\u573a",level:2,effect:function(e,t){e.exhausted_enter=!0}}]),ae=l.a.createElement("div",null,l.a.createElement("h3",null,"\u660e\u65e5\u65b9\u821f: \u91c7\u6398\u884c\u52a8 \u6e38\u620f\u89c4\u5219"),l.a.createElement("br",null),l.a.createElement("br",null),"\u6e38\u620f\u76ee\u6807: \u83b7\u5f9710\u5206\uff1b",l.a.createElement("br",null),l.a.createElement("br",null),"\u5728\u4f60\u7684\u56de\u5408\uff0c\u4f60\u53ef\u4ee5\u505a\u4ee5\u4e0b\u4e8b\u60c5: ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"* \u90e8\u7f72\u5e72\u5458: "),"\u6d88\u8017\u8d39\u7528(\u5199\u5728\u5361\u724c\u5de6\u4e0a\u89d2)\uff0c\u5c06\u5e72\u5458\u4ece\u624b\u724c\u4e2d\u90e8\u7f72\u5230\u573a\u4e0a\uff1b",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"* \u4f7f\u7528\u5e72\u5458\u91c7\u6398: "),"\u5e72\u5458\u6bcf\u67091\u70b9\u91c7\u6398\u80fd\u529b\uff0c\u5c31\u83b7\u5f971\u4e2a\u968f\u673a\u6750\u6599\uff1b",l.a.createElement("br",null),l.a.createElement("i",null,"\u4e3e\u4f8b: \u535a\u58eb\u9996\u5148\u4f7f\u7528\u201c\u661f\u6781\u201d\u8fdb\u884c\u91c7\u6398\uff0c\u661f\u6781\u7684\u91c7\u6398\u80fd\u529b\u4e3a3\uff0c\u56e0\u6b64\u83b7\u5f973\u4e2a\u968f\u673a\u6750\u6599\uff0c\u535a\u58eb\u56e0\u6b64\u83b7\u5f97\u4e86\u201c\u626d\u8f6c\u9187\u201d\u3001\u201c\u626d\u8f6c\u9187\u201d\u548c\u201c\u7814\u78e8\u77f3\u201d\uff1b\u7136\u540e\u4f7f\u7528\u201c\u963f\u7c73\u5a05\u201d\u8fdb\u884c\u91c7\u6398\uff0c\u963f\u7c73\u5a05\u7684\u91c7\u6398\u80fd\u529b\u4e3a2\uff0c\u56e0\u6b64\u83b7\u5f97\u201c\u626d\u8f6c\u9187\u201d\u548c\u201cRMA12\u201d\uff0c\u800c\u963f\u7c73\u5a05\u7684\u6548\u679c\u4e3a\u201c\u91c7\u6398: \u83b7\u5f971\u5206\u201d\uff0c\u6240\u4ee5\u5728\u91c7\u6398\u5b8c\u6210\u540e\uff0c\u535a\u58eb\u8fd8\u80fd\u83b7\u5f971\u5206\uff1b"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"* \u4f7f\u7528\u5e72\u5458\u6218\u6597:")," \u9009\u5b9a\u573a\u4e0a\u7684\u4e00\u540d\u5e72\u5458\uff0c\u548c\u4e00\u540d\u654c\u4eba\uff0c\u8be5\u5e72\u5458\u5bf9\u654c\u4eba\u9020\u6210\u7b49\u540c\u4e8e\u81ea\u5df1\u653b\u51fb\u529b\u7684\u4f24\u5bb3\uff1b",l.a.createElement("br",null),l.a.createElement("i",null,"\u4e3e\u4f8b: \u535a\u58eb\u4f7f\u7528\u201c\u514b\u6d1b\u4e1d\u201d\u5bf9\u201c\u7834\u9635\u8005\u201d\u53d1\u8d77\u653b\u51fb\uff0c\u514b\u6d1b\u4e1d\u7684\u653b\u51fb\u529b\u4e3a3\uff0c\u56e0\u6b64\u5bf9\u7834\u9635\u8005\u9020\u62103\u70b9\u4f24\u5bb3\uff0c\u7834\u9635\u8005\u7684\u751f\u547d\u503c\u4e3a2\uff0c\u4f24\u5bb3\u5927\u4e8e\u751f\u547d\u503c\uff0c\u56e0\u6b64\u7834\u9635\u8005\u88ab\u6467\u6bc1\uff1b"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"* \u4f7f\u7528\u5e72\u5458\u884c\u52a8:")," \u5982\u679c\u573a\u4e0a\u7684\u4e00\u540d\u5e72\u5458\u6709\u201c\u884c\u52a8\u201d\u6548\u679c\uff0c\u5219\u53ef\u4ee5\u6a2a\u7f6e\u8be5\u5e72\u5458\uff0c\u7136\u540e\u89e6\u53d1\u5176\u201c\u884c\u52a8\u201d\u6548\u679c\uff1b",l.a.createElement("br",null),l.a.createElement("i",null,"\u4e3e\u4f8b: \u535a\u58eb\u201c\u6843\u91d1\u5a18\u201d\u884c\u52a8\uff0c\u6843\u91d1\u5a18\u7684\u6548\u679c\u4e3a\u201c\u884c\u52a8: \u83b7\u5f973\u70b9\u8d39\u7528\u201d\uff0c\u56e0\u6b64\u535a\u58eb\u6a2a\u7f6e\u6843\u91d1\u5a18\u540e\uff0c\u83b7\u5f97\u4e863\u70b9\u8d39\u7528"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"* \u5b8c\u6210\u8ba2\u5355:"),' \u6d88\u8017\u8ba2\u5355\u6240\u9700\u7684\u6750\u6599\u7ec4\u5408(\u5199\u5728\u8ba2\u5355\u5de6\u4e0a\u89d2)\uff0c\u5b8c\u6210\u8ba2\u5355\uff0c\u83b7\u5f97\u8ba2\u5355\u7684\u5956\u52b1(\u5199\u5728\u8ba2\u5355\u53f3\u4e0a\u89d2\uff0c\u4e00\u822c\u662f\u4e00\u4e9b\u5206\u6570\u548c\u4e00\u4e2a\u6750\u6599)\uff0c\u5b8c\u6210\u8ba2\u5355\u662f\u5f97\u5206\u7684\u4e3b\u8981\u624b\u6bb5\uff1b"D32\u94a2"\u662f\u767e\u642d\u8d44\u6e90\uff0c\u53ef\u4f5c\u4e3a\u4efb\u610f\u8d44\u6e90\u4ea4\u4ed8\u8ba2\u5355\uff1b',l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("b",null,"* \u4f7f\u7528\u8ba2\u5355:")," \u5b8c\u6210\u7684\u8ba2\u5355\uff0c\u62e5\u6709\u81ea\u5df1\u7684\u8ba2\u5355\u80fd\u529b\uff0c\u6bcf\u56de\u5408\u53ef\u4ee5\u4f7f\u7528\u4e00\u6b21\uff1b",l.a.createElement("br",null),l.a.createElement("i",null,"\u4e3e\u4f8b: \u535a\u58eb\u9996\u5148\u4f7f\u7528\u5b8c\u6210\u7684\u7b2c\u4e00\u4e2a\u8ba2\u5355\uff0c\u80fd\u529b\u63cf\u8ff0\u4e3a\u201c\u626d\u8f6c\u9187\u2192\uff1f+\uff1f\u201d\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u75281\u4e2a\u626d\u8f6c\u9187\u63622\u4e2a\u968f\u673a\u6750\u6599\uff0c\u535a\u58eb\u56e0\u6b64\u6d88\u80171\u4e2a\u626d\u8f6c\u9187\uff0c\u83b7\u5f97\u4e862\u4e2a\u968f\u673a\u6750\u6599\uff0c\u5206\u522b\u4e3a\u201c\u7814\u78e8\u77f3\u201d\u548c\u201c\u7814\u78e8\u77f3\u201d\uff0c\u6b64\u65f6\u535a\u58eb\u521a\u597d\u51d1\u591f\u4e863\u4e2a\u7814\u78e8\u77f3\uff0c\u7acb\u523b\u5b8c\u6210\u4e86\u4e00\u4e2a\u9700\u89813\u4e2a\u7814\u78e8\u77f3\u7684\u8ba2\u5355\uff0c\u83b7\u5f97\u4e862\u5206\u548c1\u4e2a\u201cRMA12\u201d\uff0c\u8be5\u8ba2\u5355\u7684\u80fd\u529b\u63cf\u8ff0\u4e3a\u201c\u626d\u8f6c\u9187\u21922\u5206\u201d\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u75281\u4e2a\u626d\u8f6c\u9187\u63622\u5206\uff0c\u535a\u58eb\u4f7f\u7528\u4e86\u8be5\u8ba2\u5355\uff0c\u6d88\u8017\u4e861\u4e2a\u626d\u8f6c\u9187\uff0c\u83b7\u5f97\u4e862\u5206\uff1b"),l.a.createElement("br",null),l.a.createElement("br",null),"\u4ee5\u4e0a\u7684\u4e8b\u60c5\uff0c\u5728\u4f60\u7684\u56de\u5408\uff0c\u53ef\u4ee5\u4ee5\u4efb\u610f\u987a\u6267\u884c\u4efb\u610f\u6b21\uff0c\u5728\u4f60\u7684\u56de\u5408\u7ed3\u675f\u540e\uff0c\u8fdb\u5165\u6574\u5408\u8fd0\u52a8\u9636\u6bb5\uff1b",l.a.createElement("br",null),l.a.createElement("br",null),"\u9996\u5148\uff0c\u7ffb\u5f002\u5f20\u654c\u4eba\u724c\uff0c\u4ee5\u6a2a\u7f6e\u72b6\u6001\u5165\u573a\uff1b",l.a.createElement("br",null),l.a.createElement("br",null),"\u7136\u540e\uff0c\u573a\u4e0a\u5904\u4e8e\u91cd\u7f6e\u72b6\u6001\u7684\u654c\u4eba\uff0c\u4ece\u5de6\u5230\u53f3\u884c\u52a8\u4e00\u6b21\uff0c\u88ab\u963b\u6321\u7684\u654c\u4eba\uff0c\u4f1a\u5411\u963b\u6321\u8005\u53d1\u8d77\u653b\u51fb\uff0c\u672a\u88ab\u963b\u6321\u7684\u654c\u4eba\uff0c\u4f1a\u53d1\u8d77\u52a8\u4e71\uff0c\u589e\u52a0\u52a8\u4e71\u503c\uff0c\u52a8\u4e71\u503c\u8fbe\u52308\u70b9\u65f6\uff0c\u6e38\u620f\u7acb\u523b\u5931\u8d25\uff1b",l.a.createElement("br",null),l.a.createElement("br",null),"\u5e72\u5458\u7684\u963b\u6321\u6570\u6807\u5728\u573a\u4e0a\u5e72\u5458\u7684\u53f3\u4e0a\u89d2\uff0c\u4ee5\u84dd\u8272\u7684\u76fe\u724c\u8868\u793a\uff0c\u201c\u963b\u6321X\u201d\u8868\u793a\u963b\u6321\u654c\u4eba\u9635\u5217\u6700\u5de6\u4fa7\u7684X\u4e2a\u654c\u4eba\uff0c\u5df2\u7ecf\u88ab\u963b\u6321\u7684\u654c\u4eba\uff0c\u4e0d\u4f1a\u88ab\u91cd\u590d\u963b\u6321\uff1b",l.a.createElement("br",null),l.a.createElement("i",null,"\u4e3e\u4f8b: \u535a\u58eb\u7684\u573a\u4e0a\u67093\u540d\u5e72\u5458\uff0c\u514b\u6d1b\u4e1d(\u963b\u63210)\uff0c\u7c73\u683c\u9c81(\u963b\u63212)\uff0c\u548c\u73ab\u5170\u838e(\u963b\u63211)\uff0c\u654c\u65b9\u573a\u4e0a\u67094\u53ea\u6e90\u77f3\u866b\uff1b\u514b\u6d1b\u4e1d\u963b\u6321\u6570\u4e3a0\uff0c\u6240\u4ee5\u4e0d\u963b\u6321\u4efb\u4f55\u654c\u4eba\uff1b\u7c73\u683c\u9c81\u963b\u6321\u6570\u4e3a2\uff0c\u6240\u4ee5\u4f1a\u963b\u6321\u524d\u4e24\u53ea\u6e90\u77f3\u866b\uff1b\u73ab\u5170\u838e\u963b\u6321\u6570\u4e3a1\uff0c\u6240\u4ee5\u4f1a\u963b\u6321\u7b2c\u4e09\u53ea\u6e90\u77f3\u866b(\u56e0\u4e3a\u524d\u4e24\u53ea\u5df2\u7ecf\u88ab\u7c73\u683c\u9c81\u963b\u6321)\uff1b\u7b2c\u56db\u53ea\u6e90\u77f3\u866b\u672a\u88ab\u963b\u6321\uff0c\u56e0\u6b64\u4f1a\u53d1\u8d77\u52a8\u4e71\uff0c\u589e\u52a01\u70b9\u52a8\u4e71\u503c\uff1b")),le=(n(58),function(e){Object(M.a)(n,e);var t=Object(q.a)(n);function n(e){var a;return Object(_.a)(this,n),(a=t.call(this,e)).handle_hand_clicked=a.handle_hand_clicked.bind(Object(D.a)(a)),a.handle_field_clicked=a.handle_field_clicked.bind(Object(D.a)(a)),a.handle_efield_clicked=a.handle_efield_clicked.bind(Object(D.a)(a)),a.handle_order_clicked=a.handle_order_clicked.bind(Object(D.a)(a)),a.handle_finished_clicked=a.handle_finished_clicked.bind(Object(D.a)(a)),a.handle_deck_change=a.handle_deck_change.bind(Object(D.a)(a)),a.enemy_move=a.enemy_move.bind(Object(D.a)(a)),a.process_hand_data=a.process_hand_data.bind(Object(D.a)(a)),a.process_hand_state=a.process_hand_state.bind(Object(D.a)(a)),a.process_field_data=a.process_field_data.bind(Object(D.a)(a)),a.process_field_state=a.process_field_state.bind(Object(D.a)(a)),a.process_efield_data=a.process_efield_data.bind(Object(D.a)(a)),a.process_efield_state=a.process_efield_state.bind(Object(D.a)(a)),a.process_order_data=a.process_order_data.bind(Object(D.a)(a)),a.process_order_state=a.process_order_state.bind(Object(D.a)(a)),a.process_finished_data=a.process_finished_data.bind(Object(D.a)(a)),a.process_finished_state=a.process_finished_state.bind(Object(D.a)(a)),a.process_card_details=a.process_card_details.bind(Object(D.a)(a)),a.process_enemy_details=a.process_enemy_details.bind(Object(D.a)(a)),a.process_order_details=a.process_order_details.bind(Object(D.a)(a)),a.wrap_controller_action=a.wrap_controller_action.bind(Object(D.a)(a)),a.set_branch=a.set_branch.bind(Object(D.a)(a)),a.check_card=a.check_card.bind(Object(D.a)(a)),a.play_card=a.play_card.bind(Object(D.a)(a)),a.use_mine=a.use_mine.bind(Object(D.a)(a)),a.use_fight=a.use_fight.bind(Object(D.a)(a)),a.use_act=a.use_act.bind(Object(D.a)(a)),a.finish_order=a.finish_order.bind(Object(D.a)(a)),a.use_order=a.use_order.bind(Object(D.a)(a)),a.render_title_board=a.render_title_board.bind(Object(D.a)(a)),a.render_rules_board=a.render_rules_board.bind(Object(D.a)(a)),a.render_game_board=a.render_game_board.bind(Object(D.a)(a)),a.render_tag_board=a.render_tag_board.bind(Object(D.a)(a)),a.render_deck_board=a.render_deck_board.bind(Object(D.a)(a)),a.render_card_board=a.render_card_board.bind(Object(D.a)(a)),a.change_board=a.change_board.bind(Object(D.a)(a)),a.choose_tag=a.choose_tag.bind(Object(D.a)(a)),a.get_risk_level=a.get_risk_level.bind(Object(D.a)(a)),a.enter_game=a.enter_game.bind(Object(D.a)(a)),a.state={hand_selected:-1,field_selected:-1,efield_selected:-1,order_selected:-1,finished_selected:-1,branch:{},show_field:!0,show_tag_selection:!1,stage:"player",board:a.render_title_board,tags:ne,risk_level:0,deck_name:Z(),checking:{},scenario_finished:!1},a.branches={hand:{"\u90e8\u7f72":a.play_card},field:{"\u91c7\u6398":a.use_mine,"\u6218\u6597":a.use_fight},efield:{"\u6218\u6597":a.use_fight},orders:{"\u5b8c\u6210":a.finish_order},finished:{"\u884c\u52a8":a.use_order}},a.log_select=function(){return a.props.G.messages[0].includes("\u9009\u5b9a")?a.props.moves.changeMsg:a.props.moves.logMsg},a}return Object(p.a)(n,[{key:"choose_tag",value:function(e){var t=this;return function(){var n=t.state.tags;n[e].selected=!n[e].selected,t.setState({tags:n})}}},{key:"get_risk_level",value:function(){return this.state.tags.filter((function(e){return e.selected})).reduce((function(e,t){return e+t.level}),0)}},{key:"check_card",value:function(){return this.change_board("card"),this.state.branch}},{key:"play_card",value:function(){return this.props.moves.play(this.state.hand_selected),this.setState({hand_selected:-1}),{}}},{key:"use_mine",value:function(){return this.props.moves.mine(this.state.field_selected),this.setState({field_selected:-1}),{}}},{key:"use_fight",value:function(){return this.props.moves.fight(this.state.field_selected,this.state.efield_selected),this.setState({field_selected:-1,efield_selected:-1}),{}}},{key:"use_act",value:function(){return this.props.moves.act(this.state.field_selected),this.setState({field_selected:-1}),{}}},{key:"finish_order",value:function(){return this.props.moves.finishOrder(this.state.order_selected),this.setState({order_selected:-1}),{}}},{key:"use_order",value:function(){return this.props.moves.useOrder(this.state.finished_selected),this.setState({finished_selected:-1}),{}}},{key:"process_hand_data",value:function(e){return{illust:e.illust,atk:e.atk,hp:e.hp,cost:e.cost}}},{key:"process_hand_state",value:function(e){return{selected:this.state.hand_selected==this.props.G.hand.indexOf(e)}}},{key:"process_field_data",value:function(e){var t={illust:e.illust,atk:e.atk,hp:e.hp-e.dmg,mine:l.a.createElement("span",null,u.mine,e.mine)};return e.block>0&&(t.block=l.a.createElement("span",null,u.block,e.block)),t}},{key:"process_field_state",value:function(e){return{selected:this.state.field_selected==this.props.G.field.indexOf(e),exhausted:e.exhausted,damaged:e.dmg>0}}},{key:"process_efield_data",value:function(e){return{e_illust:e.illust,atk:e.atk,hp:e.hp-e.dmg}}},{key:"process_efield_state",value:function(e){return{selected:this.state.efield_selected==this.props.G.efield.indexOf(e),exhausted:e.exhausted,damaged:e.dmg>0}}},{key:"process_order_data",value:function(e){for(var t=[],n=0;n<3;n++)for(var a=u[Object.keys(u)[n]],l=e.requirements[n],c=0;c<l;c++)t.push(a);return{o_illust:"https://ak.hypergryph.com/upload/images/20190228/32ddf0470a305376204d1312ca4720f9.jpg",requirements:t,score:e.score,reward:h[e.reward],order_effect:e.desc}}},{key:"process_order_state",value:function(e){return{selected:this.state.order_selected==this.props.G.orders.indexOf(e),exhausted:e.exhausted}}},{key:"process_finished_data",value:function(e){return{o_illust:m,finished_effect:e.desc}}},{key:"process_finished_state",value:function(e){return{selected:this.state.finished_selected==this.props.G.finished.indexOf(e),exhausted:e.exhausted}}},{key:"process_card_details",value:function(e){return{illust_detailed:e.illust,cost_detailed:e.cost,desc:l.a.createElement("span",null,e.atk,"/",e.hp," \xa0",u.mine,e.mine," \xa0",e.block>0?l.a.createElement("span",null,u.block,e.block):"",l.a.createElement("br",null),e.desc||"")}}},{key:"process_enemy_details",value:function(e){return{eo_illust_detailed:e.illust,desc:l.a.createElement("span",null,e.atk,"/",e.hp,l.a.createElement("br",null),e.desc||"")}}},{key:"process_order_details",value:function(e){return{eo_illust_detailed:m,desc:e.desc}}},{key:"enemy_move",value:function(e){var t,n=this;if(e<this.props.G.efield.length){this.setState({stage:"enemy"});var a=350;e<0?this.props.moves.drawEnemy():(this.props.G.efield[e].exhausted&&(a=50),this.props.moves.enemyMove(e)),(t=a,new Promise((function(e){return setTimeout(e,t)}))).then((function(){n.enemy_move(e+1)}))}else this.props.events.endTurn(),this.setState({stage:"player"})}},{key:"handle_hand_clicked",value:function(e){var t=this,n=this.props.G.hand[e];return function(){t.setState({hand_selected:e,checking:t.process_card_details(n)}),t.set_branch("hand"),t.log_select()("\u9009\u5b9a "+n.name)}}},{key:"handle_field_clicked",value:function(e){var t=this,n=this.props.G.field[e];return function(){t.setState({field_selected:e,checking:t.process_card_details(n)}),t.log_select()("\u9009\u5b9a "+n.name);var a=Object.assign({},t.branches.field);console.log(Object.keys(a)),t.props.G.field[e].action&&(a["\u884c\u52a8"]=t.use_act),console.log(Object.keys(a)),t.setState({branch:E(t.wrap_controller_action,a)})}}},{key:"handle_efield_clicked",value:function(e){var t=this,n=this.props.G.efield[e];return function(){t.setState({efield_selected:e,checking:t.process_enemy_details(n)}),t.set_branch("efield"),t.log_select()("\u9009\u5b9a "+n.name)}}},{key:"handle_order_clicked",value:function(e){var t=this,n=this.props.G.orders[e];return function(){t.setState({order_selected:e,checking:t.process_order_details(n)}),t.set_branch("orders"),t.log_select()("\u9009\u5b9a\u8ba2\u5355")}}},{key:"handle_finished_clicked",value:function(e){var t=this,n=this.props.G.finished[e];return function(){t.setState({finished_selected:e,checking:t.process_order_details(n)}),t.set_branch("finished"),t.log_select()("\u9009\u5b9a\u8ba2\u5355")}}},{key:"handle_deck_change",value:function(e){this.setState({deck_name:e.target.value})}},{key:"wrap_controller_action",value:function(e){var t=this;return function(){t.set_branch(e())}}},{key:"set_branch",value:function(e){"string"==typeof e?this.setState({branch:E(this.wrap_controller_action,this.branches[e])}):this.setState({branch:E(this.wrap_controller_action,e)})}},{key:"change_board",value:function(e){var t={title:this.render_title_board,rules:this.render_rules_board,game:this.render_game_board,tag:this.render_tag_board,deck:this.render_deck_board,card:this.render_card_board};this.setState({board:t[e]})}},{key:"enter_game",value:function(){this.props.moves.setDeck(te(this.state.deck_name)),this.props.moves.addTags(this.state.tags.filter((function(e){return e.selected}))),this.props.moves.onScenarioBegin(),this.change_board("game")}},{key:"end_game",value:function(){this.props.reset(),this.setState({scenario_finished:!1}),this.change_board("tag")}},{key:"componentDidUpdate",value:function(){var e=this.props.ctx.gameover;if(e&&!this.state.scenario_finished)if(this.setState({scenario_finished:!0}),e.win){var t=this.get_risk_level(),n="D";n=t>=0&&t<2?"C":t>=2&&t<4?"B":t>=4&&t<6?"A":t>=6&&t<8?"S":t>=8&&t<10?"SS":"SSS",alert("\u4efb\u52a1\u5b8c\u6210\n\u5b8c\u6210\u5371\u673a\u7b49\u7ea7: ".concat(t,"\n\u8bc4\u7ea7: ").concat(n,"\n\u4f7f\u7528\u5361\u7ec4: ").concat(this.state.deck_name))}else alert("\u4efb\u52a1\u5931\u8d25\n\u539f\u56e0: ".concat(e.reason))}},{key:"render_title_board",value:function(){var e=this;return l.a.createElement("div",{className:"board"},l.a.createElement(K,{enterGame:function(){return e.change_board("tag")},checkRule:function(){return e.change_board("rules")}}))}},{key:"render_rules_board",value:function(){var e=this;return l.a.createElement("div",{className:"board"},l.a.createElement("div",{style:{height:"80%",width:"94%",margin:"3%",overflow:"scroll"}},ae),l.a.createElement("button",{onClick:function(){return e.change_board("title")},style:{margin:"3%",fontSize:"105%"}},"\u8fd4\u56de"))}},{key:"render_game_board",value:function(){var e=this,t=l.a.createElement("div",null,l.a.createElement("p",{style:{marginTop:"2%"}},[0,1,2,3].map((function(t){return l.a.createElement("span",{style:{color:e.props.G.gained.includes(t)?"blue":"black"}},h[t],":",e.props.G.materials[t],"\xa0\xa0\xa0")})),"\u8d39\u7528: ",this.props.G.costs,l.a.createElement("br",null),l.a.createElement("button",{className:"player-panel-button",onClick:function(){e.setState({show_field:!e.state.show_field})}},this.state.show_field?"\u67e5\u770b\u8ba2\u5355":"\u67e5\u770b\u6218\u573a"),l.a.createElement("button",{className:"player-panel-button",style:{display:"enemy"==this.state.stage?"none":""},onClick:function(){e.enemy_move(-2)}},"\u7ed3\u675f\u56de\u5408"),l.a.createElement("button",{className:"player-panel-button",style:{display:this.props.ctx.gameover?"":"none"},onClick:function(){e.end_game()}},"\u7ed3\u675f\u6e38\u620f"))),n=l.a.createElement("div",null,l.a.createElement("p",{style:{marginTop:"0%"}},"\u52a8\u4e71:",this.props.G.danger,"/",this.props.G.max_danger," \xa0\xa0\xa0 \u5206\u6570:",this.props.G.score,"/",this.props.G.goal,l.a.createElement("br",null),l.a.createElement("span",{onClick:function(){alert(e.props.G.messages.slice(0,20).join("\n"))}},this.props.G.messages[0]))),a=l.a.createElement(R,{cards:this.props.G.field.map(this.process_field_data),states:this.props.G.field.map(this.process_field_state),handleClick:this.handle_field_clicked}),c=l.a.createElement(R,{cards:this.props.G.hand.map(this.process_hand_data),states:this.props.G.hand.map(this.process_hand_state),handleClick:this.handle_hand_clicked}),i=l.a.createElement(R,{cards:this.props.G.orders.map(this.process_order_data),states:this.props.G.orders.map(this.process_order_state),handleClick:this.handle_order_clicked}),r=l.a.createElement(R,{cards:this.props.G.finished.map(this.process_finished_data),states:this.props.G.finished.map(this.process_finished_state),handleClick:this.handle_finished_clicked});return l.a.createElement("div",{className:"board"},l.a.createElement(X,{variant:"game-panel",content:n}),l.a.createElement(R,{cards:this.props.G.efield.map(this.process_efield_data),states:this.props.G.efield.map(this.process_efield_state),handleClick:this.handle_efield_clicked}),this.state.show_field?a:r,l.a.createElement(J,{actions:this.state.branch,checkCard:0!=Object.keys(this.state.branch).length?this.wrap_controller_action(this.check_card):void 0}),this.state.show_field?c:i,l.a.createElement(X,{variant:"player-panel",content:t}))}},{key:"render_card_board",value:function(){var e=this;return l.a.createElement("div",{className:"board",align:"center"},l.a.createElement(z,{card:this.state.checking,handleClick:function(){return e.change_board("game")}}))}},{key:"render_tag_board",value:function(){var e=this,t=this.get_risk_level();return l.a.createElement("div",{className:"board"},l.a.createElement(U,{tags:this.state.tags,handleClick:this.choose_tag}),l.a.createElement(V,{selected_tags:this.state.tags.filter((function(e){return e.selected}))}),l.a.createElement($,{risk_level:t}),l.a.createElement("br",null),l.a.createElement("div",{style:{color:"red",marginLeft:"2%",marginTop:"-3%",display:t>=5?"":"none"}},"\u5f53\u524d\u5408\u7ea6\u96be\u5ea6\u6781\u5927\uff0c\u8bf7\u8c28\u614e\u884c\u52a8"),l.a.createElement(L,{switchScene:function(){e.change_board("deck")},action:"\u67e5\u770b\u5361\u7ec4"}))}},{key:"render_deck_board",value:function(){var e=this;return l.a.createElement("div",{className:"board"},l.a.createElement(H,{value:this.state.deck_name,handleChange:this.handle_deck_change,changeName:function(){return e.setState({deck_name:Z()})}}),l.a.createElement(L,{switchScene:function(){e.enter_game()},action:"\u8fdb\u5165\u6e38\u620f"}))}},{key:"render",value:function(){return this.state.board()}}]),n}(l.a.Component)),ce=Object(r.a)({game:N,board:le,debug:!1});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(ce,null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.8b10a540.chunk.js.map